(this.webpackJsonpnftdapp=this.webpackJsonpnftdapp||[]).push([[0],{103:function(e,t,n){},148:function(e,t,n){},213:function(e){e.exports=JSON.parse('[{"title":"Monkey","user":"John Doe","image":"monkey.jpeg","price":"4.0","comments":""},{"title":"Benjamin","user":"John Doe","image":"benjamin.jpeg","price":"2.5","comments":""},{"title":"Nyan Cat","user":"John Doe","image":"nyan.jpeg","price":"3.0","comments":""},{"title":"Monalisa","user":"John Doe","image":"monalisa.jpeg","price":"6.0","comments":""},{"title":"Cat","user":"John Doe","image":"cat.png","price":"1.0","comments":""},{"title":"Boba Fett","user":"John Doe","image":"boba.jpeg","price":"5.0","comments":""},{"title":"Shopping","user":"John Doe","image":"shop.jpeg","price":"3.0","comments":""},{"title":"Chadwick Boseman","user":"John Doe","image":"chadwick.jpeg","price":"7.0","comments":""},{"title":"Andy Warhol","user":"John Doe","image":"andy.jpeg","price":"4.0","comments":""},{"title":"Marilyn Monroe","user":"John Doe","image":"marilyn.jpeg","price":"4.5","comments":""},{"title":"David","user":"John Doe","image":"david.jpeg","price":"3.5","comments":""}]')},221:function(e,t,n){},225:function(e,t){},227:function(e,t){},246:function(e,t,n){},251:function(e,t,n){},252:function(e,t,n){},253:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){},329:function(e,t){},493:function(e,t){},495:function(e,t,n){},496:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(56),r=n.n(o),i=(n(220),n(221),n(17)),l=(n(103),n(9)),s=(n(148),n(10)),u=n(506),j=n(502),d=n(508),b=n(505),p=n(72),h=(n(246),n(1)),f=function(){var e,t="clicked",n=document.body,c="dark",a="light";e===c||e===a?n.classList.add(e):n.classList.add(c);return Object(h.jsxs)("label",{class:"switch",children:[Object(h.jsx)("input",{type:"checkbox",className:"light"===e?t:"",id:"darkMode",onClick:function(o){return function(o){e===a?(n.classList.replace(a,c),o.target.classList.remove(t),e=c):(n.classList.replace(c,a),o.target.classList.add(t),e=a)}(o)}}),Object(h.jsx)("span",{class:"slider round"})]})},m=n(57),O=n(2),x=n.n(O);s.f().put("accessNode.api","https://access-testnet.onflow.org").put("discovery.wallet","https://fcl-discovery.onflow.org/testnet/authn");var g=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=(t[0],t[1]);Object(c.useEffect)((function(){s.g().subscribe(n)}),[]);var a=function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.m([s.n('\nimport MyNFT from 0x77843dcd06310709\nimport NonFungibleToken from 0x631e88ae7f1d7c20\nimport FungibleToken from 0x9a0766d93b6608b7\nimport FlowToken from 0x7e60df042a9c0868\nimport NFTMarketplace from 0x77843dcd06310709\n\ntransaction {\n\n  prepare(acct: AuthAccount) {\n    acct.save(<- MyNFT.createEmptyCollection(), to: /storage/TestCollection)\n    acct.link<&MyNFT.Collection{MyNFT.CollectionPublic, NonFungibleToken.CollectionPublic}>(/public/TestCollection, target: /storage/TestCollection)\n    acct.link<&MyNFT.Collection>(/private/TestCollection, target: /storage/TestCollection)\n    \n    let TestCollection = acct.getCapability<&MyNFT.Collection>(/private/TestCollection)\n    let FlowTokenVault = acct.getCapability<&FlowToken.Vault{FungibleToken.Receiver}>(/public/flowTokenReceiver)\n\n    acct.save(<- NFTMarketplace.createSaleCollection(MyNFTCollection: TestCollection, FlowTokenVault: FlowTokenVault), to: /storage/TestSaleCollection)\n    acct.link<&NFTMarketplace.SaleCollection{NFTMarketplace.SaleCollectionPublic}>(/public/TestSaleCollection, target: /storage/TestSaleCollection)\n  }\n\n  execute {\n    log("A user stored a Collection and a SaleCollection inside their account")\n  }\n}\n\n'),s.b([]),s.j(s.e),s.k(s.e),s.d([s.e]),s.i(9999)]).then(s.h);case 2:return t=e.sent,console.log(t),e.abrupt("return",s.o(t).onceSealed());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"loginbutton",children:Object(h.jsx)("button",{onClick:function(){return a()},children:"Setup User"})})},k=n.p+"static/media/tillieslogonew.25089572.png",v=n(61),C=n(85);function T(){var e=Object(c.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){s.g().subscribe(a)}),[]);return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(u.a,{expand:"lg",children:Object(h.jsxs)(j.a,{children:[Object(h.jsx)(u.a.Brand,{href:"/",children:Object(h.jsx)("img",{src:k,alt:"Tillies Logo"})}),Object(h.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(h.jsxs)(u.a.Collapse,{id:"basic-navbar-nav",children:[Object(h.jsxs)("h1",{children:["Account address: ",n&&n.addr?n.addr:""]}),Object(h.jsxs)(d.a,{className:"me-auto",children:[Object(h.jsx)(p.LinkContainer,{to:"/",children:Object(h.jsx)(d.a.Link,{to:"/",children:"Home"})}),Object(h.jsx)(p.LinkContainer,{to:"/marketplace",children:Object(h.jsx)(d.a.Link,{to:"/marketplace",children:"Marketplace"})}),Object(h.jsx)(p.LinkContainer,{to:"/list",children:Object(h.jsx)(d.a.Link,{to:"/list",children:"List an NFT"})}),Object(h.jsx)(p.LinkContainer,{to:"/profile",children:Object(h.jsx)(d.a.Link,{to:"/profile",children:"Profile"})})]}),Object(h.jsxs)(b.a,{className:"dropdown",align:"end",children:[Object(h.jsx)(b.a.Toggle,{variant:"dark",id:"dropdown-basic",children:Object(h.jsx)(v.a,{icon:C.c})}),Object(h.jsx)(b.a.Menu,{children:Object(h.jsxs)("div",{className:"menu",children:[Object(h.jsxs)(b.a.ItemText,{children:[" ",Object(h.jsx)("button",{onClick:function(){return s.c(),void console.log("Im here")},children:"Log In"})]}),Object(h.jsx)(b.a.ItemText,{children:Object(h.jsx)("button",{onClick:function(){return s.p()},children:"Log Out"})}),Object(h.jsxs)(b.a.ItemText,{children:[" ",Object(h.jsx)(g,{})]})]})})]}),Object(h.jsx)("div",{className:"toggle",children:Object(h.jsx)(f,{})})]})]})})})}s.f().put("accessNode.api","https://access-testnet.onflow.org").put("discovery.wallet","https://fcl-discovery.onflow.org/testnet/authn");n(251);var y=n(503),N=n(504);function F(){return Object(h.jsx)("div",{class:"jumbotron",children:Object(h.jsx)(j.a,{children:Object(h.jsxs)(y.a,{children:[Object(h.jsxs)(N.a,{sm:8,className:"text",children:[Object(h.jsx)("h1",{children:"Welcome to TiLLiES Marketplace"}),Object(h.jsx)("p",{children:"The only NFT marketplace run by the community."}),Object(h.jsx)("button",{id:"market-link",children:Object(h.jsx)(p.LinkContainer,{to:"/marketplace",children:Object(h.jsx)(d.a.Link,{to:"/marketplace",children:"Market"})})})]}),Object(h.jsx)(N.a,{sm:4,className:"image",children:Object(h.jsx)("img",{src:"https://www.creativityculturecapital.org/wp-content/uploads/2021/09/22_Diego_Balan_Web-942x1024.png",alt:"NFT"})})]})})})}var w=n(213),S=(n(252),n(509)),M=n(212),L=n(507);function I(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],o=function(){return a(!1)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(M.a,{variant:"primary",onClick:function(){return a(!0)},children:Object(h.jsx)(v.a,{icon:C.a})}),Object(h.jsxs)(L.a,{show:n,onHide:o,children:[Object(h.jsx)(L.a.Header,{closeButton:!0,children:Object(h.jsx)(L.a.Title,{children:"Modal heading"})}),Object(h.jsx)(L.a.Body,{children:"Woohoo, you're reading this text in a modal!"}),Object(h.jsxs)(L.a.Footer,{children:[Object(h.jsx)(M.a,{variant:"secondary",onClick:o,children:"Close"}),Object(h.jsx)(M.a,{variant:"primary",onClick:o,children:"Save Changes"})]})]})]})}function A(){return Object(h.jsx)("div",{className:"Cards",children:w.map((function(e){return Object(h.jsxs)(S.a,{style:{width:"18rem"},children:[Object(h.jsx)(S.a.Img,{variant:"top",src:"/brianross93/tilliesnftmarketplace.git/images/"+e.image,alt:"card",className:"cardImg"}),Object(h.jsxs)(S.a.Body,{children:[Object(h.jsx)(S.a.Title,{children:e.title}),Object(h.jsx)(S.a.Text,{children:e.price}),Object(h.jsx)(M.a,{variant:"primary",children:Object(h.jsx)(v.a,{icon:C.b})}),Object(h.jsx)(I,{})]})]})}))})}var P=function(){return Object(h.jsxs)("div",{className:"Home",children:[Object(h.jsx)(F,{}),Object(h.jsx)(A,{})]})},D=(n(253),n(62));var E=function(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],o=n[1],r=Object(c.useState)(),i=Object(l.a)(r,2);i[0],i[1],Object(c.useEffect)((function(){u(),j()}),[]);var u=function(){var t=Object(m.a)(x.a.mark((function t(){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.m([s.l("\nimport MyNFT from 0x77843dcd06310709\nimport NonFungibleToken from 0x631e88ae7f1d7c20\n\npub fun main(account: Address): [&MyNFT.NFT] {\n  let collection = getAccount(account).getCapability(/public/TestCollection)\n                    .borrow<&MyNFT.Collection{NonFungibleToken.CollectionPublic, MyNFT.CollectionPublic}>()\n                    ?? panic(\"Can't get the User's collection.\")\n\n  let returnVals: [&MyNFT.NFT] = []\n\n  let ids = collection.getIDs()\n  for id in ids {\n    returnVals.append(collection.borrowEntireNFT(id: id))\n  }\n\n  return returnVals\n}\n"),s.b([s.a(e.address,D.a)])]).then(s.h);case 2:n=t.sent,console.log(n),o(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{style:{backgroundColor:"lightgreen"},children:a.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:e.id}),Object(h.jsx)("img",{style:{width:"100px"},src:"https://ipfs.infura.io/ipfs/".concat(e.ipfsHash)}),Object(h.jsx)("h1",{children:e.metadata.name})]},e.id)}))})};var J=function(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],o=n[1];Object(c.useEffect)((function(){r()}),[]);var r=function(){var t=Object(m.a)(x.a.mark((function t(){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.m([s.l('\nimport MyNFT from 0x77843dcd06310709\nimport NonFungibleToken from 0x631e88ae7f1d7c20\nimport NFTMarketplace from 0x77843dcd06310709\n\npub fun main(account: Address): {UInt64: NFTMarketplace.SaleItem} {\n  let saleCollection = getAccount(account).getCapability(/public/TestSaleCollection)\n                        .borrow<&NFTMarketplace.SaleCollection{NFTMarketplace.SaleCollectionPublic}>()\n                        ?? panic("Could not borrow the user\'s SaleCollection")\n\n  let collection = getAccount(account).getCapability(/public/TestCollection) \n                    .borrow<&MyNFT.Collection{NonFungibleToken.CollectionPublic, MyNFT.CollectionPublic}>()\n                    ?? panic("Can\'t get the User\'s collection.")\n\n  let saleIDs = saleCollection.getIDs()\n\n  let returnVals: {UInt64: NFTMarketplace.SaleItem} = {}\n\n  for saleID in saleIDs {\n    let price = saleCollection.getPrice(id: saleID)\n    let nftRef = collection.borrowEntireNFT(id: saleID)\n\n    returnVals.insert(key: nftRef.id, NFTMarketplace.SaleItem(_price: price, _nftRef: nftRef))\n  }\n\n  return returnVals\n}\n'),s.b([s.a(e.address,D.a)])]).then(s.h);case 2:n=t.sent,console.log(n),o(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=Object(m.a)(x.a.mark((function t(n){var c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.m([s.n('\nimport MyNFT from 0x77843dcd06310709\nimport NonFungibleToken from 0x631e88ae7f1d7c20\nimport NFTMarketplace from 0x77843dcd06310709\nimport FlowToken from 0x7e60df042a9c0868\n\ntransaction(account: Address, id: UInt64) {\n\n  prepare(acct: AuthAccount) {\n    let saleCollection = getAccount(account).getCapability(/public/TestSaleCollection)\n                        .borrow<&NFTMarketplace.SaleCollection{NFTMarketplace.SaleCollectionPublic}>()\n                        ?? panic("Could not borrow the user\'s SaleCollection")\n\n    let recipientCollection = getAccount(acct.address).getCapability(/public/TestCollection) \n                    .borrow<&MyNFT.Collection{NonFungibleToken.CollectionPublic}>()\n                    ?? panic("Can\'t get the User\'s collection.")\n\n    let price = saleCollection.getPrice(id: id)\n\n    let payment <- acct.borrow<&FlowToken.Vault>(from: /storage/flowTokenVault)!.withdraw(amount: price) as! @FlowToken.Vault\n\n    saleCollection.purchase(id: id, recipientCollection: recipientCollection, payment: <- payment)\n  }\n\n  execute {\n    log("A user purchased an NFT")\n  }\n}\n\n'),s.b([s.a(e.address,D.a),s.a(parseInt(n),D.c)]),s.j(s.e),s.k(s.e),s.d([s.e]),s.i(9999)]).then(s.h);case 2:return c=t.sent,console.log(c),t.abrupt("return",s.o(c).onceSealed());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)("div",{style:{backgroundColor:"lightblue"},children:Object.keys(a).map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("h1",{children:["Price: ",a[e].price]}),Object(h.jsx)("h1",{children:e}),Object(h.jsx)("img",{style:{width:"100px"},src:"https://ipfs.infura.io/ipfs/".concat(a[e].nftRef.ipfsHash)}),Object(h.jsx)("h1",{children:a[e].nftRef.metadata.name}),Object(h.jsx)("button",{onClick:function(){return i(e)},children:"Purchase this NFT"})]},e)}))})};s.f().put("accessNode.api","https://access-testnet.onflow.org").put("discovery.wallet","https://fcl-discovery.onflow.org/testnet/authn");var V=function(){var e=Object(c.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(""),r=Object(l.a)(o,2),i=r[0],u=r[1],j=Object(c.useState)(),d=Object(l.a)(j,2),b=d[0],p=d[1];return Object(c.useEffect)((function(){s.g().subscribe(p)}),[]),console.log(Object(h.jsx)(E,{address:i})),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{children:Object(h.jsx)("h1",{children:"Search Page"})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"text",onChange:function(e){return a(e.target.value)}}),Object(h.jsx)("button",{onClick:function(){return u(n)},children:"Search"})]}),b&&b.addr&&i&&""!==i?Object(h.jsx)(E,{address:i}):null,b&&b.addr&&i&&""!==i?Object(h.jsx)(J,{address:i}):null]})};var B=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Profile Page"}),Object(h.jsx)(V,{})]})};n(254);var H=function(){return Object(h.jsxs)("div",{className:"marketplace",children:[Object(h.jsx)("h1",{children:"MarketPlace"}),Object(h.jsx)(V,{}),Object(h.jsx)(A,{})]})},R=(n(255),n(131)),U=n.n(R),_=n(214),W=Object(_.create)("https://ipfs.infura.io:5001/api/v0");s.f().put("accessNode.api","https://access-testnet.onflow.org").put("discovery.wallet","https://fcl-discovery.onflow.org/testnet/authn");var q=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(0),r=Object(l.a)(o,2),i=r[0],u=r[1],j=Object(c.useState)(0),d=Object(l.a)(j,2),b=d[0],p=d[1],f=Object(c.useState)(),O=Object(l.a)(f,2),g=O[0],k=O[1],v=Object(c.useState)(""),C=Object(l.a)(v,2),T=(C[0],C[1]),y=Object(c.useState)(!1),N=Object(l.a)(y,2),F=N[0],w=N[1],S={headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}};Object(c.useEffect)((function(){U.a.get("http://localhost:3001/read",S).then((function(e){console.log(e.data),a(e.data[0].name),u(e.data[0].id),p(e.data[0].price),T(e.data[0].description),w(e.data[0].forSale)})).catch((function(e){console.log(e)}))}),[]),Object(c.useEffect)((function(){U.a.get("http://localhost:3001/insert",{params:{name:n,id:i,price:b,forSale:F}}).then((function(e){console.log(e)}))}));var M=function(){var e=Object(m.a)(x.a.mark((function e(){var t,c,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.add(g);case 3:return t=e.sent,c=t.path,e.next=7,s.m([s.n('\nimport MyNFT from 0x77843dcd06310709\n\ntransaction(ipfsHash: String, name: String) {\n\n  prepare(acct: AuthAccount) {\n    let collection = acct.borrow<&MyNFT.Collection>(from: /storage/TestCollection)\n                        ?? panic("This collection does not exist here")\n\n    let nft <- MyNFT.createToken(ipfsHash: ipfsHash, metadata: {"name": name})\n\n    collection.deposit(token: <- nft)\n  }\n\n  execute {\n    log("A user minted an NFT into their account")\n  }\n}\n'),s.b([s.a(c,D.b),s.a(n,D.b)]),s.j(s.e),s.k(s.e),s.d([s.e]),s.i(9999)]).then(s.h);case 7:return a=e.sent,console.log(a),e.abrupt("return",s.o(a).onceSealed());case 12:e.prev=12,e.t0=e.catch(0),console.log("Error uploading file: ",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"list",children:[Object(h.jsx)("label",{children:"Name:"}),Object(h.jsx)("input",{type:"text",onChange:function(e){a(e.target.value)}}),Object(h.jsx)("label",{children:"Id:"}),Object(h.jsx)("input",{type:"number",onChange:function(e){u(e.target.value)}}),Object(h.jsx)("label",{children:"Filename:"}),Object(h.jsx)("input",{type:"file",onChange:function(e){return k(e.target.files[0])}}),Object(h.jsx)("label",{children:"price:"}),Object(h.jsx)("input",{type:"number",onChange:function(e){p(e.target.value)}}),Object(h.jsx)("button",{onClick:function(){U.a.post("http://localhost:3001/insert",{name:n,id:i,price:b,forSale:F},S).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),M()},children:"List NFT"})]})};var z=function(){return Object(h.jsx)("h1",{children:"Page not found!"})},G=(n(495),n(147));var K=function(){return Object(h.jsx)("div",{className:"footer",children:Object(h.jsxs)("div",{class:"footer p-4",children:["\xa9 TiLLiES 2022",Object(h.jsx)("a",{className:"gh",href:"https://github.com/brianross93/tilliesnftmarketplace",target:"blank",children:Object(h.jsx)(v.a,{icon:G.a})}),Object(h.jsx)("a",{href:"https://www.linkedin.com/company/tillies/about/",target:"blank",children:Object(h.jsx)(v.a,{icon:G.b})})]})})};function Q(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(T,{}),Object(h.jsxs)(i.f,{children:[Object(h.jsx)(i.d,{path:"/",element:Object(h.jsx)(P,{}),exact:!0}),Object(h.jsx)(i.d,{path:"/profile",element:Object(h.jsx)(B,{})}),Object(h.jsx)(i.d,{path:"/marketplace",element:Object(h.jsx)(H,{})}),Object(h.jsx)(i.d,{path:"/list",element:Object(h.jsx)(q,{})}),Object(h.jsx)(i.d,{element:Object(h.jsx)(z,{})})]}),Object(h.jsx)(K,{})]})}var X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,510)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))},Y=n(116);r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(Y.BrowserRouter,{children:Object(h.jsx)(Q,{})})}),document.getElementById("root")),X()}},[[496,1,2]]]);
//# sourceMappingURL=main.7d81d687.chunk.js.map